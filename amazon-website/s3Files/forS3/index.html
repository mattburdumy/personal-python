<!doctype html>
<html>
  <head>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular.min.js"></script>-->
    <!--<script src="http://code.angularjs.org/1.2.0-rc.3/angular-route.min.js"></script>-->
      <!--<script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.19.min.js"></script>-->
    <!--<link rel="stylesheet" href="styles/bootstrap.min.css">-->
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
  <h1 id="blergh"> whats up? </h1>
  <script>
      function createCORSRequest(method, url) {
          var xhr = new XMLHttpRequest();
          if ("withCredentials" in xhr) {

              // Check if the XMLHttpRequest object has a "withCredentials" property.
              // "withCredentials" only exists on XMLHTTPRequest2 objects.
              xhr.open(method, url, true);

          } else if (typeof XDomainRequest != "undefined") {

              // Otherwise, check if XDomainRequest.
              // XDomainRequest only exists in IE, and is IE's way of making CORS requests.
              xhr = new XDomainRequest();
              xhr.open(method, url);

          } else {

              // Otherwise, CORS is not supported by the browser.
              xhr = null;

          }
          return xhr;
      }

      var xhr = createCORSRequest('GET', 'https://2k0k7t9g9g.execute-api.us-east-1.amazonaws.com/stage');
      if (!xhr) {
          throw new Error('CORS not supported');
          console.log("CORS Got fucked up")
      }
      xhr.onload = function() {
          var responseText = xhr.responseText;
          console.log(responseText);
          document.getElementById('blergh').innerHTML = responseText;

          // process the response.
      };

      xhr.onerror = function() {
          console.log('There was an error!');
      };
      xhr.send();

    </script>
  </body>
</html>